project = "5_Flux_Ensemble"
root = "/data/ssd1/swim"

[paths]
project_workspace = "{root}/{project}"
data = "{project_workspace}/data"
gis = "{data}/gis"
fields_shapefile = "{gis}/flux_fields.shp"
properties = "{data}/properties"
lulc = "{properties}/{project}_landcover.csv"
properties_json = "{properties}/{project}_properties.json"
dynamics_data = "{data}/{project}_dynamics.json"
prepped_input = "{data}/prepped_input.json"
container = "{data}/{project}.swim"

# Remote sensing
landsat = "{data}/remote_sensing/landsat"
landsat_tables = "{landsat}/tables"
remote_sensing_tables = "{data}/rs_tables"

# Intermediate files (data_prep.py workflow)
joined_timeseries = "{data}/plot_timeseries"

[paths.conus]
met = "{data}/meteorology/gridmet"
gridmet_centroids = "{gis}/gridmet_centroids.shp"
gridmet_mapping = "{gis}/fields_gfid.shp"
correction_tifs = "{data}/bias_correction_tif"
gridmet_factors = "{gis}/fields_gfid.json"
irr = "{properties}/{project}_irr.csv"
ssurgo = "{properties}/{project}_ssurgo.csv"
snodas_in = "{data}/snow/snodas/extracts"

[earth_engine]
bucket = "wudr"

[ids]
feature_id = "site_id"

[ids.conus]
gridmet_join_id = "site_id"
gridmet_id = "GFID"  # Column name for GridMET cell ID in mapping shapefile
state_col = "state"

[data_sources]
met_source = "gridmet"
snow_source = "snodas"
soil_source = "ssurgo"
mask_mode = "irrigation"

[misc]
irrigation_threshold = 0.3
elev_units = "m"
refet_type = "eto"
swb_mode = "cn"

[date_range]
start_date = "1987-01-01"
end_date = "2024-12-31"

[crop_coefficient]
kc_proxy = "etf"
cover_proxy = "ndvi"

[calibration]
pest_run_dir = "{project_workspace}/pestrun"
etf_target_model = "ssebop"
etf_ensemble_members = ["ptjpl", "sims"]
workers = 20
realizations = 200
calibration_dir = "{pest_run_dir}/pest/mult"
obs_folder = "{pest_run_dir}/obs"
initial_values_csv = "{pest_run_dir}/params.csv"
spinup = "{pest_run_dir}/spinup.json"
python_script = "{project_workspace}/custom_forward_run.py"
